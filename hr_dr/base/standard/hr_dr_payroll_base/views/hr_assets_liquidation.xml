<?xml version="1.0" encoding="utf-8" ?>
<odoo>
	<record id="hr_assets_liquidation_cause_view_form" model="ir.ui.view">
		<field name="name">hr.assets.liquidation.cause.view.form</field>
		<field name="model">hr.assets.liquidation.cause</field>
		<field name="arch" type="xml">
			<form string="Assets liquidation cause">
				<sheet>
					<group>
						<group>
							<field name="name"/>
							<field name="code"/>
						</group>
						<group>
							<field name="normative_id"/>
							<field name="active" widget='boolean_toggle'/>
						</group>
					</group>
				</sheet>
				<div class="oe_chatter">
					<field name="message_follower_ids"/>
				    <field name="message_ids"/>
				</div>
			</form>
		</field>
	</record>
	<record id="hr_assets_liquidation_cause_view_tree" model='ir.ui.view'>
		<field name="name">hr.assets.liquidation.cause.view.tree</field>
		<field name="model">hr.assets.liquidation.cause</field>
		<field name="arch" type="xml">
			<tree string="Assets liquidation cause">
				<field name="name"/>
				<field name="code"/>
				<field name="normative_id"/>
				<field name="active" widget='boolean_toggle'/>
			</tree>
		</field>
	</record>
	<record id="action_assets_liquidation_cause" model="ir.actions.act_window">
		<field name="name">Assets liquidation cause</field>
		<field name="type">ir.actions.act_window</field>
		<field name="res_model">hr.assets.liquidation.cause</field>
		<field name="view_mode">tree,form</field>
	</record>

	<record id="hr_assets_liquidation_view_form" model="ir.ui.view">
		<field name="name">hr.assets.liquidation.view.form</field>
		<field name="model">hr.assets.liquidation</field>
		<field name="arch" type="xml">
			<form string="Assets liquidation">
				<header>
					<button name="goto_payslip" states="draft" string="Go to liquidation payslip" type="object" class="btn btn-primary" icon="fa-pencil-square-o"/>
					<field name="state" widget="statusbar" statusbar_visible="draft,computed,done,cancelled"/>
				</header>
				<sheet>
					<group>
						<group>
							<field name="employee_id" options="{'no_create': True, 'no_open': True}" domain="[('state','in',['unemployed', 'retired']), ('active', '=', False)]" attrs="{'readonly':[('state','!=','draft')]}"/>
							<field name="normative_id"/>
							<field name="contract_id" readonly="1" force_save="1"/>
							<field name="payment_period_fourteenth"/>
							<field name="date_from" attrs="{'readonly':[('state','!=','draft')]}"/>
							<field name="date_to" attrs="{'readonly':[('state','!=','draft')]}"/>
							<field name="last_wage" attrs="{'readonly':[('state','!=','draft')]}"/>
							<field name="best_wage" attrs="{'readonly':[('state','!=','draft')]}"/>
						</group>
						<group>
							<field name="cause_id" domain="[('normative_id', '=', normative_id)]" widget="selection" options="{'no_create': True, 'no_open': True}" attrs="{'readonly':[('state','!=','draft')]}"/>
							<field name="cause_code" invisible="1"/>

							<field name="amount"/>
							<field name="pregnant_woman" attrs="{'readonly':[('state','!=','draft')], 'invisible': [('cause_code','!=','C09')]}"/>
							<field name="union_leader" attrs="{'readonly':[('state','!=','draft')], 'invisible': [('cause_code','!=','C09')]}"/>
							<field name="disability_deduction" attrs="{'readonly':[('state','!=','draft')], 'invisible': [('cause_code','!=','C09')]}"/>
						</group>
					</group>
					<footer>
					</footer>
				</sheet>
			</form>
		</field>
	</record>
	<record id="hr_assets_liquidation_view_tree" model='ir.ui.view'>
		<field name="name">hr.assets.liquidation.view.tree</field>
		<field name="model">hr.assets.liquidation</field>
		<field name="arch" type="xml">
			<tree string="Assets liquidation">
				<field name="employee_id"/>
				<field name="cause_id"/>
			</tree>
		</field>
	</record>
	<record id="action_assets_liquidation" model="ir.actions.act_window">
		<field name="name">Assets liquidation</field>
		<field name="type">ir.actions.act_window</field>
		<field name="res_model">hr.assets.liquidation</field>
		<field name="view_mode">tree,form</field>
	</record>
</odoo>